/* =========================================================
   Tillerstead — 2025 Global Theme (Single Light Theme)
   Colorway: Charcoal • Brass • Emerald
   Fonts: Inter (body), Manrope (UI/heads), IBM Plex Mono (code/nums)
   ========================================================= */

/* -------------------------
   0) Accessibility Baseline
   ------------------------- */
@media (prefers-reduced-motion: reduce){
  *{
    animation:none !important;
    transition:none !important;
    scroll-behavior:auto !important;
  }
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}

/* -------------------------
   1) Design Tokens (Light Theme Only)
   ------------------------- */
:root{
  /* Brand core */
  --brand-ink:        #111827; /* dark charcoal */
  --brand-stone:      #E5E7EB; /* light gray */
  --brand-paper:      #F9FAFB; /* main page background */
  --brand-brass:      #B8922F; /* primary accent */
  --brand-emerald:    #0FA3B1; /* secondary accent */

  /* Single light theme */
  --bg:               var(--brand-paper);
  --surface:          #FFFFFF;
  --surface-2:        #F3F4F6;
  --text:             #111827;
  --text-muted:       #4B5563;
  --border:           #D1D5DB;
  --primary:          var(--brand-brass);
  --primary-contrast: #111111;
  --accent:           var(--brand-emerald);
  --accent-contrast:  #041214;
  --focus:            #0FA3B1; /* focus ring */

  /* Elevation / Effects */
  --radius:           12px;
  --shadow-sm:        0 6px 18px rgba(15,23,42,.16);
  --shadow:           0 12px 30px rgba(15,23,42,.22);

  /* Layout */
  --max:              64rem;  /* ~1024px */
  --gutter:           24px;

  /* Type */
  --font-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-ui:   "Manrope", var(--font-sans);
  --font-mono: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;

  /* Type scale (fluid) */
  --fs-1: clamp(32px, 6vw, 64px);
  --fs-2: clamp(22px, 4.2vw, 32px);
  --fs-3: clamp(18px, 3.6vw, 22px);
  --fs-4: 16px;
  --lh:   1.55;

  /* Spacing scale */
  --s-1:.25rem; --s-2:.5rem; --s-3:.75rem; --s-4:1rem;
  --s-5:1.25rem; --s-6:1.5rem; --s-7:2rem; --s-8:3rem;

  /* App bar height (mobile) */
  --appbar-h: 60px;
}

/* -------------------------
   2) Base / Typography
   ------------------------- */
html{
  background:var(--bg);
  color:var(--text);
  font: 500 var(--fs-4)/var(--lh) var(--font-sans);
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}
body{
  background:var(--bg);
  color:var(--text);
}

img{display:block; max-width:100%; height:auto}
a{color:inherit; text-decoration:none}
a:hover{text-decoration:underline}
:focus-visible{outline:3px solid var(--focus); outline-offset:2px}
code,kbd,pre,samp{font-family:var(--font-mono)}

h1{
  font:800 var(--fs-1)/1.05 var(--font-ui);
  margin:0 0 var(--s-5);
}
h2{
  font:800 var(--fs-2)/1.15 var(--font-ui);
  margin:0 0 var(--s-4);
}
h3{
  font:700 var(--fs-3)/1.25 var(--font-ui);
  margin:0 0 var(--s-3);
}
p{margin:0 0 var(--s-4)}
.lead{
  font-size:clamp(18px,3vw,22px);
  color:var(--text-muted);
}

/* Prose (long-form) */
.prose p{color:var(--text)}
.prose p + p{margin-top:.75rem}
.prose ul{margin:.75rem 0 var(--s-4); padding-left:1.1rem}
.prose li{margin:.25rem 0}
.prose a{color:var(--accent); text-decoration:underline}

/* Helpers */
.container{max-width:var(--max); margin:0 auto; padding-inline:var(--gutter)}
.section{padding-block:48px; border-top:1px solid var(--border)}
.unstyled{list-style:none; margin:0; padding:0}
.sr-only{position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap}
.skip-link{
  position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;
}
.skip-link:focus{
  position:static;width:auto;height:auto;
  padding:.5rem 1rem;
  background:var(--accent);
  color:#111;
  border-radius:8px;
}

/* -------------------------
   3) Header / App Bar / Nav
   ------------------------- */
.appbar{
  position:sticky; top:0; z-index:1000;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  padding:12px 18px;
  background:var(--surface);
  border-bottom:1px solid var(--border);
}

.brand{
  display:flex; align-items:center; gap:10px;
  color:inherit; text-decoration:none;
}
.brand img{
  height:44px; width:auto; display:block;
}
@media (max-width:440px){
  .brand img{height:38px}
}

.nav-toggle{
  background:none; border:none; cursor:pointer;
  display:inline-flex; align-items:center; justify-content:center;
  width:40px; height:40px; margin-left:auto; color:var(--text);
}
.hamburger,.hamburger::before,.hamburger::after{
  content:""; display:block; width:20px; height:2px; background:currentColor;
  border-radius:1px; transition:transform .2s ease, opacity .2s ease; position:relative;
}
.hamburger::before{top:-6px; position:relative}
.hamburger::after{top:6px; position:relative}

.site-nav ul{list-style:none; margin:0; padding:0}
.site-nav a{
  display:block; padding:.85rem 0;
  font-weight:600; color:var(--text);
}
.site-nav a:hover{color:var(--primary)}

/* Desktop nav */
@media (min-width:821px){
  .nav-toggle{display:none}
  .site-nav{
    display:flex; align-items:center; gap:1.25rem;
  }
  .site-nav ul{
    display:flex; align-items:center; gap:1.25rem;
  }
}

/* Mobile nav (slide-down) */
@media (max-width:820px){
  .site-nav{
    position:absolute; left:0; right:0; top:var(--appbar-h);
    background:var(--surface);
    border-bottom:1px solid var(--border);
    transform: translateY(-10px) scaleY(.96);
    opacity:0; pointer-events:none;
    transition: transform .18s ease, opacity .18s ease;
    padding:.75rem 1rem 1.25rem; z-index:999;
    max-height: calc(100vh - var(--appbar-h)); overflow:auto;
  }
  .site-nav.open{
    transform:none; opacity:1; pointer-events:auto;
  }
  .site-nav ul{display:grid; gap:.35rem}
  .site-nav .btn{display:block; text-align:center; margin-top:.3rem}
}

/* -------------------------
   4) Buttons / Chips
   ------------------------- */
.btn{
  display:inline-block;
  padding:14px 18px;
  border-radius:var(--radius);
  font-weight:700;
  text-decoration:none;
  background:var(--surface);
  color:var(--text);
  border:1px solid var(--border);
  transition: transform .15s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.btn:hover{
  transform:translateY(-1px);
  box-shadow:var(--shadow-sm);
  background:#F9FAFB;
}

/* Primary solid button */
.btn-accent{
  background:var(--primary);
  color:var(--primary-contrast) !important;
  border:1px solid rgba(0,0,0,.15);
}
.btn-accent:hover{
  background:#A07F22;
  text-decoration:none;
}

/* Ghost variant */
.btn.ghost{
  background:var(--surface-2);
  color:var(--text);
  border:1px solid var(--border);
}

/* Call to action (header) */
.call-btn{
  display:inline-block; padding:10px 14px; border-radius:10px; font-weight:800;
  background:var(--primary); color:var(--primary-contrast);
  border:1px solid rgba(0,0,0,.2); text-decoration:none; box-shadow:var(--shadow);
}
.call-btn:hover{
  text-decoration:none;
  transform:translateY(-1px);
  background:#A07F22;
}

/* -------------------------
   5) Hero / About / Cards
   ------------------------- */
.about-hero{
  padding-block: clamp(60px, 10vw, 120px);
  text-align: center;
  background:
    radial-gradient(800px 400px at 15% 0%, rgba(184,146,47,0.12), transparent),
    radial-gradient(800px 400px at 85% 0%, rgba(15,163,177,0.10), transparent);
}

.kpis{
  margin-top: var(--s-6);
  display:grid; gap:14px;
  grid-template-columns:repeat(auto-fit, minmax(240px,1fr));
}
.kpis .kpi{
  padding:16px;
  border:1px solid var(--border);
  background:var(--surface-2);
  border-radius:var(--radius);
  color:var(--text-muted);
}

.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:14px;
}
.card{
  border:1px solid var(--border);
  background:var(--surface-2);
  border-radius:var(--radius);
  padding:16px;
  box-shadow:var(--shadow-sm);
}
.card p{color:var(--text-muted)}

/* Proof grid */
.proofgrid{
  display:grid; gap:12px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}
.proofgrid figure{
  margin:0;
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius);
  overflow:hidden;
}
.proofgrid img{width:100%; height:auto; display:block}
.proofgrid figcaption{
  padding:.65rem .75rem;
  color:var(--text-muted);
}

/* -------------------------
   6) FAQ
   ------------------------- */
.faqs details{
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:.85rem 1rem;
}
.faqs details + details{margin-top:.6rem}
.faqs summary{
  cursor:pointer;
  font-weight:700;
}
.faqs p{color:var(--text-muted)}

/* -------------------------
   7) Forms
   ------------------------- */
.contact-form{
  display:grid;
  gap:1rem;
  margin:1.5rem 0;
}
.contact-form .grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:1rem;
}
label{display:grid;gap:.4rem}
input,textarea,select{
  width:100%; padding:.85rem .9rem;
  border-radius:10px;
  border:1px solid var(--border);
  background:var(--surface);
  color:var(--text);
}
textarea{min-height:140px;resize:vertical}
input::placeholder,textarea::placeholder{
  color:rgba(75,85,99,.75);
}

/* -------------------------
   8) Footer
   ------------------------- */
.site-footer{
  border-top:1px solid var(--border);
  padding-block: 3rem;
  background:#F3F4F6; /* light footer so logo stays visible */
  margin-top: var(--s-8);
  color: var(--text);
}
.site-footer a{
  color: var(--primary);
  text-decoration: none;
}
.site-footer a:hover{ text-decoration: underline }

.site-footer .container {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}
.footer-logo img{
  max-width: 300px;
  height: auto;
  filter:none;
  opacity:1;
}

/* -------------------------
   9) Utilities
   ------------------------- */
.center{text-align:center}
.mt-0{margin-top:0}.mt-1{margin-top:var(--s-4)}.mt-2{margin-top:var(--s-6)}.mt-3{margin-top:var(--s-8)}
.mb-0{margin-bottom:0}.mb-1{margin-bottom:var(--s-4)}.mb-2{margin-bottom:var(--s-6)}.mb-3{margin-bottom:var(--s-8)}
.p-1{padding:var(--s-4)}.p-2{padding:var(--s-6)}.p-3{padding:var(--s-8)}
.max{max-width:var(--max);margin-inline:auto}

/* -------------------------
   10) Print
   ------------------------- */
@media print{
  .appbar,.site-footer,.btn,.nav-toggle{display:none !important}
  body{background:#fff; color:#000}
  a{text-decoration:underline}
}

/* -------------------------
   11) Icon/Favicon Cache Bust Overrides
   (Keeps killing the old half-circle icon)
   ------------------------- */
@layer reset-icons {
  :root {
    --site-favicon: url("/favicon.ico?v=3");
    --site-apple-touch: url("/apple-touch-icon.png?v=3");
    --site-mask-icon: url("/assets/img/Logo.png?v=3");
  }
}
link[rel="mask-icon"],
link[rel="icon"],
link[rel="shortcut icon"],
link[rel="apple-touch-icon"] {
  content: var(--site-favicon);
}

/* Optional Safari pinned-tab treatment */
@supports (-webkit-mask-image: var(--site-mask-icon)) {
  link[rel="mask-icon"]{
    -webkit-mask-image: var(--site-mask-icon);
    mask-image: var(--site-mask-icon);
    -webkit-mask-repeat:no-repeat;
    background-color: var(--primary);
  }
}
/* =========================================================
   12) Refinements — Links, FAQs, Accessibility, Interaction
   ========================================================= */

/* ---------- Hyperlink styling ---------- */
a {
  color: var(--accent); /* emerald tone from your palette */
  text-decoration: underline;
  text-underline-offset: 3px;
  transition: color 0.15s ease, text-decoration-color 0.2s ease;
}
a:hover {
  color: var(--primary); /* brass hover tone */
  text-decoration-color: var(--primary);
}

/* External link icons (optional) */
a[target="_blank"]::after {
  content: " ↗";
  font-size: 0.85em;
  opacity: 0.6;
  vertical-align: baseline;
}

/* ---------- FAQ <details> enhancements ---------- */
.faqs details {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem 1.25rem;
  transition: background 0.25s ease, border-color 0.25s ease;
}
.faqs details[open] {
  background: var(--surface-2);
  border-color: var(--primary);
  box-shadow: var(--shadow-sm);
}
.faqs summary {
  cursor: pointer;
  font-weight: 700;
  position: relative;
  list-style: none;
  padding-right: 1.25rem;
}
.faqs summary::marker { content: ""; } /* hides default marker */

/* Add + / − icon effect */
.faqs summary::after {
  content: "+";
  position: absolute;
  right: 0;
  top: 0;
  font-weight: 700;
  color: var(--primary);
  transition: transform 0.2s ease;
}
.faqs details[open] summary::after {
  content: "−";
  color: var(--accent);
  transform: rotate(180deg);
}

/* Smooth expand/collapse animation */
.faqs details > p,
.faqs details > div {
  animation: faqFadeIn 0.3s ease both;
}
@keyframes faqFadeIn {
  from { opacity: 0; transform: translateY(-4px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ---------- Accessibility and readability tweaks ---------- */
.prose a {
  color: var(--accent);
  font-weight: 600;
}
.prose a:hover {
  color: var(--primary);
}

.prose h2,
.prose h3 {
  scroll-margin-top: 80px; /* for internal links / mobile anchors */
}

/* ---------- Section contrast tuning ---------- */
.section {
  background-color: var(--surface);
  border-top: 1px solid var(--border);
  padding-block: 60px;
}

/* ---------- Focus visibility ---------- */
:focus-visible {
  outline: 3px solid var(--focus);
  outline-offset: 3px;
  border-radius: 4px;
}

/* ---------- Link color balance for footer ---------- */
.site-footer a {
  color: var(--accent);
  font-weight: 600;
}
.site-footer a:hover {
  color: var(--primary);
  text-decoration: underline;
}

/* ---------- Optional small-screen polish ---------- */
@media (max-width: 600px) {
  .faqs details {
    padding: 0.85rem 1rem;
  }
  .faqs summary {
    font-size: 1rem;
  }
}
/* Mobile nav improvements */
@media (max-width: 768px) {
  #nav {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: white;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
    padding: 5rem 2rem 2rem;
    gap: 1.2rem;
    overflow-y: auto;
    z-index: 1000;
    transform: translateY(-100%);
    transition: transform 0.3s ease;
  }

  #nav.open {
    transform: translateY(0);
  }

  #nav a {
    font-size: 1.2rem;
    text-decoration: none;
    color: #111;
  }

  .nav-toggle {
    position: relative;
    z-index: 1100;
  }
}
body.nav-open {
  overflow: hidden;
}

#nav.open::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.4);
  z-index: 900;
}