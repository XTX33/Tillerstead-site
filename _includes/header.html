<header class="appbar site-header" role="banner">
  <!-- Brand -->
  <a class="brand" href="{{ '/' | relative_url }}" aria-label="{{ site.title | default: 'Home' }}">
    <img
      src="{{ '/assets/img/Logo-light.png' | relative_url }}"
      alt="{{ site.title | default: 'Tillerstead' }} logo"
      width="168"
      height="44"
      decoding="async"
      loading="eager">
    <span class="sr-only">{{ site.title | default: 'Tillerstead' }}</span>
  </a>

  <!-- Mobile toggle -->
  <button class="nav-toggle" id="nav-toggle" type="button" aria-controls="nav" aria-expanded="false" aria-label="Toggle menu" title="Menu">
    <span class="hamburger" aria-hidden="true"></span>
  </button>

  {% assign current_url = page.url | default: '/' %}
  {% assign nav_items = site.data.navigation.primary %}
  <!-- Primary navigation -->
  <nav id="nav" class="site-nav" aria-label="Primary">
    <ul class="nav-list">
      {% for item in nav_items %}
        {% assign is_current = false %}
        {% if item.exact %}
          {% if current_url == item.exact %}
            {% assign is_current = true %}
          {% endif %}
        {% elsif item.match %}
          {% if current_url contains item.match %}
            {% assign is_current = true %}
          {% endif %}
        {% endif %}
        <li>
          <a href="{{ item.url | relative_url }}" {% if is_current %}aria-current="page"{% endif %}>{{ item.title }}</a>
        </li>
      {% endfor %}
    </ul>
  </nav>

  <!-- Call CTA -->
  <a class="call-btn btn btn-primary" href="tel:{{ site.company.phone_link | default: '+16096659350' }}" aria-label="Call Tillerstead">
    {{ site.company.phone_display | default: '(609) 665-9350' }}
  </a>
</header>
